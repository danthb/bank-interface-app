"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[608],{2627:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(5861),a=n(885),u=n(7757),s=n.n(u),o=n(2791),c=n(7496),i=n(9818),l=n(1523),d=n(6549),f=n(4171),p=n(9599),h=n(184);function m(e){var t=e.bgcolor,n=e.bgheader,u=e.label,m=e.handle,b=e.hideAmount,x=e.successButton,g=(0,o.useContext)(d.V).authFB,j=(0,o.useState)(!0),v=(0,a.Z)(j,2),Z=v[0],w=v[1],k=(0,o.useState)(""),C=(0,a.Z)(k,2),y=C[0],A=C[1],S=(0,o.useState)(""),L=(0,a.Z)(S,2),U=L[0],E=L[1],F=(0,o.useState)(""),B=(0,a.Z)(F,2),N=B[0],T=B[1],P=(0,o.useState)(""),I=(0,a.Z)(P,2),D=I[0],R=I[1],W=(0,o.useState)(""),_=(0,a.Z)(W,2),z=_[0],O=_[1],V=(0,o.useState)(""),q=(0,a.Z)(V,2),G=q[0],H=q[1],J=(0,o.useState)(""),K=(0,a.Z)(J,2),M=K[0],Q=K[1],X=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!g){e.next=9;break}return e.next=4,p.A.getUser(g.uid);case 4:return t=e.sent,R(!0),e.abrupt("return",t.data);case 9:R(!1),T(!1);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();function Y(e,t){return e?!("password"===t&&e.length<8)||(A("Please enter at least 8 characters"),setTimeout((function(){return A("")}),3e3),!1):(A("Please enter "+t),setTimeout((function(){return A("")}),3e3),!1)}(0,o.useEffect)((function(){b||X().then((function(e){var t=e[0];T(t.balance)}))}),[Z]);return(0,h.jsx)(f.Z,{bgcolor:t,bgheader:n,header:u,status:y,body:Z?(0,h.jsxs)(o.Fragment,{children:[b?(0,h.jsxs)(o.Fragment,{children:["Login"!==u&&(0,h.jsxs)(o.Fragment,{children:["Name",(0,h.jsx)("br",{}),(0,h.jsx)(i.Z,{name:"name",id:"name",placeholder:"Enter name",value:z,onChange:function(e){return O(e.currentTarget.value)}}),(0,h.jsx)("br",{})]}),(0,h.jsx)("br",{}),"Email ",(0,h.jsx)("br",{}),(0,h.jsx)(i.Z,{name:"email",type:"email",id:"email",placeholder:"Enter email",value:G,onChange:function(e){return H(e.currentTarget.value)}}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),"Password",(0,h.jsx)("br",{}),(0,h.jsx)(i.Z,{type:"password",id:"password",placeholder:"Enter password",value:M,onChange:function(e){return Q(e.currentTarget.value)}}),(0,h.jsx)("br",{})]}):(0,h.jsxs)(o.Fragment,{children:["Balance: ",D?N:null," ",(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),u+" Amount",(0,h.jsx)("br",{}),(0,h.jsx)("input",{type:"input",id:"amount",placeholder:"Enter Amount",value:U,onChange:function(e){isNaN(Number(e.target.value))?alert("Only positive amounts are allowed"):E(e.target.value)}}),(0,h.jsx)("br",{})]}),(0,h.jsx)("br",{}),(0,h.jsx)(c.Z,{type:"submit",id:"submit",title:"Withdraw"===u||"Deposit"===u?"Confirm transaction":"Click to Login",variant:"contained",color:"primary",disabled:function(){if("Create Account"===u)return""===G&&""===M&&""===z;if("Login"===u)return""===G&&""===M;if(b){if(!N)return!1;if(N<=0)return!0}else{if("Withdraw"===u)return!N||!D||(""===U||0===U);if("Deposit"===u)return!D||(""===U||0===U)}}(),onClick:function(){if(b){if("Login"!==u&&!Y(z,"name"))return;if(!Y(G,"email"))return;if(!Y(M,"password"))return}else if(!Y(U,"amount"))return;m({name:z,email:G,password:M,amount:U}),w(!1)},children:u})]}):(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(c.Z,{type:"submit",variant:"contained",color:"primary",onClick:function(){O(""),H(""),Q(""),E(""),w(!0)},children:x}),"Create Account"===u?(0,h.jsx)(c.Z,{type:"submit",variant:"contained",title:"Click to go the Login",color:"secundary",children:(0,h.jsx)(l.rU,{className:"nav-link",to:"/login",children:"Login"})}):null]})})}},2608:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(5861),a=n(7757),u=n.n(a),s=(n(2791),n(9599)),o=n(2627),c=n(184);function i(){function e(){return(e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.A.createUser(t);case 3:n=e.sent,n.status,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return(0,c.jsx)(o.Z,{bgcolor:"black",txtcolor:"white",label:"Create Account",handle:function(t){return e.apply(this,arguments)},hideAmount:!0,successButton:"Create another account"})}},9599:function(e,t,n){n.d(t,{A:function(){return c}});var r=n(4569),a=n.n(r),u=n(4075).Z.API_URL,s=localStorage.getItem("token"),o=a().create({baseURL:u,headers:{authorization:"Bearer ".concat(s)}}),c={all:function(){return o.get("/account/all")},getUser:function(e){return o.get("/account",{params:{firebaseId:e}})},createUser:function(e){return o.post("/account/create",e)},updated:function(e,t){return o.put("/account/update",{_id:e,amount:t})}}}}]);
//# sourceMappingURL=608.2a1da652.chunk.js.map